(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{18:function(t,n,e){t.exports={form:"Phonebook_form__1P0Z0",label:"Phonebook_label__28DPI",button:"Phonebook_button__2Rpvf"}},77:function(t,n,e){"use strict";e.r(n);var c=e(0),r=e.n(c),a=e(15),o=e.n(a),u=e(9),i=e(37),b=e(34),s=e(3),j=e(35),l=e(36),f=e(40),h=e(38),d=e(11),O=e.n(d),m=e(18),p=e.n(m),v=e(13),x=e.n(v),C=e(4),g=Object(C.b)("contacts/fetchContactRequest"),y=Object(C.b)("contacts/fetchContactSuccess"),I=Object(C.b)("contacts/fetchContactError"),k=Object(C.b)("contacts/addContactRequest"),S=Object(C.b)("contacts/addContactSuccess"),R=Object(C.b)("contacts/addContactError"),_=Object(C.b)("contacts/deleteContactRequest"),w=Object(C.b)("contacts/deleteContactSuccess"),F=Object(C.b)("contacts/deleteContactError"),N=Object(C.b)("contact/filter");x.a.defaults.baseURL="http://localhost:3000";var P=e(17),E=function(t){return t.contacts.contacts},q=function(t){return t.contacts.filter},D=Object(P.a)([E,q],(function(t,n){var e=n.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(e)}))})),L=e(1),T=function(t){Object(f.a)(e,t);var n=Object(h.a)(e);function e(){var t;Object(j.a)(this,e);for(var c=arguments.length,r=new Array(c),a=0;a<c;a++)r[a]=arguments[a];return(t=n.call.apply(n,[this].concat(r))).state={contacts:[],name:"",number:""},t.nameInputId=O.a.generate(),t.numberInputId=O.a.generate(),t.handleChange=function(n){t.setState(Object(s.a)({},n.currentTarget.name,n.currentTarget.value))},t.handleForm=function(n){n.preventDefault();var e=t.state.name;if(t.props.contacts.find((function(t){return t.name===e})))return alert("".concat(e," is already in contacts."));t.props.onSubmit(Object(b.a)({id:O.a.generate()},t.state)),t.setState({name:"",number:""})},t}return Object(l.a)(e,[{key:"render",value:function(){return Object(L.jsxs)("form",{onSubmit:this.handleForm,className:"form",children:[Object(L.jsxs)("label",{className:p.a.label,htmlFor:this.nameInputId,children:["Name",Object(L.jsx)("input",{type:"text",name:"name",value:this.state.name,onChange:this.handleChange,id:this.nameInputId})]}),Object(L.jsxs)("label",{className:p.a.label,htmlFor:this.numberInputId,children:["Number",Object(L.jsx)("input",{type:"tel",name:"number",value:this.state.number,onChange:this.handleChange,id:this.numberInputId})]}),Object(L.jsx)("button",{type:"submit",className:p.a.button,children:"Add contact"})]})}}]),e}(c.Component),A=Object(u.b)((function(t){return{contacts:E(t)}}),(function(t){return{onSubmit:function(n){var e,c=n.name;n.number;return t((e=c,function(t){t(k()),x.a.post("/contacts",e).then((function(n){var e=n.data;return t(S(e))})).catch((function(n){return t(R(n))}))}))}}}))(T),J=function(t){var n=t.id,e=t.name,c=t.number,r=t.onRemove;return Object(L.jsxs)("li",{id:n,children:[Object(L.jsx)("span",{children:e}),": ",Object(L.jsx)("span",{children:c}),Object(L.jsx)("button",{type:"button",id:n,onClick:function(){return r(n)},children:"Delete"})]})},B=Object(u.b)((function(t){return{contacts:D(t)}}),(function(t){return{onRemove:function(n){return t(function(t){return function(n){n(_()),x.a.delete("/contacts/".concat(t)).then((function(){return n(w(t))})).catch((function(t){return n(F(t))}))}}(n))}}}))((function(t){var n=t.contacts,e=t.onRemove;return Object(L.jsx)("ul",{children:n.map((function(t){var n=t.id,c=t.name,r=t.number;return Object(L.jsx)(J,{id:n,name:c,number:r,onRemove:e},n)}))})})),M=O.a.generate(),U=Object(u.b)((function(t){return{value:q(t)}}),(function(t){return{onChange:function(n){return t(N(n.target.value))}}}))((function(t){var n=t.value,e=t.onChange;return Object(L.jsxs)("div",{children:[Object(L.jsx)("h3",{children:"Find contacts by name"}),Object(L.jsx)("input",{type:"text",placeholder:"Search contact",name:"filter",value:n,onChange:e,id:M})]})}));var Z,z,G,H=Object(u.b)(null,(function(t){return{fetchContact:function(){return t((function(t){t(g()),x.a.get("/contacts").then((function(n){var e=n.data;return t(y(e))})).catch((function(n){return t(I(n))}))}))}}}))((function(){return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)("h1",{children:"Phonebook"}),Object(L.jsx)(A,{}),Object(L.jsx)("h2",{children:"Contacts"}),Object(L.jsx)(U,{}),Object(L.jsx)(B,{})]})})),K=e(39),Q=e(7),V=Object(C.c)([],(Z={},Object(s.a)(Z,y,(function(t,n){return n.payload})),Object(s.a)(Z,S,(function(t,n){return[].concat(Object(K.a)(t),[n.payload])})),Object(s.a)(Z,w,(function(t,n){return[t.filter((function(t){return t.id!==n.payload}))]})),Z)),W=Object(C.c)("",Object(s.a)({},N,(function(t,n){return n.payload}))),X=Object(C.c)(!1,(z={},Object(s.a)(z,g,(function(){return!0})),Object(s.a)(z,y,(function(){return!1})),Object(s.a)(z,I,(function(){return!1})),Object(s.a)(z,k,(function(){return!0})),Object(s.a)(z,S,(function(){return!1})),Object(s.a)(z,R,(function(){return!1})),Object(s.a)(z,_,(function(){return!0})),Object(s.a)(z,w,(function(){return!1})),Object(s.a)(z,F,(function(){return!1})),z)),Y=Object(C.c)(null,(G={},Object(s.a)(G,I,(function(t){return t})),Object(s.a)(G,R,(function(t){return t})),Object(s.a)(G,F,(function(t){return t})),G)),$=Object(Q.c)({contacts:V,filter:W,loading:X,error:Y}),tt=Object(C.a)({reducer:{contacts:$},devTools:!1});o.a.render(Object(L.jsx)(r.a.StrictMode,{children:Object(L.jsx)(i.a,{children:Object(L.jsx)(u.a,{store:tt,children:Object(L.jsx)(H,{})})})}),document.getElementById("root"))}},[[77,1,2]]]);
//# sourceMappingURL=main.cc0addeb.chunk.js.map